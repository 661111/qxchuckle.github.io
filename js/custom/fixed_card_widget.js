function FixedCardWidget(e,i,r){if("id"===e)var t=document.getElementById(i);else t=document.getElementsByClassName(i)[r];t&&(t.className.indexOf("fixed-card-widget")>-1?RemoveFixedCardWidget():(RemoveFixedCardWidget(),CreateQuitBox(),t.classList.add("fixed-card-widget")))}function CreateQuitBox(){document.getElementById("aside-content").insertAdjacentHTML("beforebegin",'<div id="quit-box" onclick="RemoveFixedCardWidget()"></div>')}function RemoveFixedCardWidget(){var e=document.querySelectorAll(".fixed-card-widget");if(e)for(i=0;i<e.length;i++)e[i].classList.remove("fixed-card-widget");var r=document.getElementById("quit-box");r&&r.remove()}function refreshCache(){"serviceWorker"in window.navigator&&navigator.serviceWorker.controller?confirm("是否确定刷新全站缓存")&&navigator.serviceWorker.controller.postMessage("refresh"):GLOBAL_CONFIG.Snackbar?btf.snackbarShow("ServiceWorker未激活,请刷新浏览器"):alert("ServiceWorker未激活,请刷新浏览器")}RemoveFixedCardWidget(),navigator.serviceWorker.addEventListener("message",(e=>{"success"===e.data&&location.reload(!0)})),""==window.name&&(window.name="chuckle-tc",Snackbar.show({text:"由于SW的修改，老访客请点击刷新",actionText:"刷新",duration:"3000",pos:"bottom-center",onActionClick:function(){navigator.serviceWorker.controller.postMessage("refresh")}}));